---
import Badge from '../components/Badge.astro';
import Header from '../components/Header.astro';
import Tecnologias from '../components/Tecnologias.astro';
import Layout from '../layouts/Layout.astro';
import Trabajos from '../components/Trabajos.astro';
import Socials from '../components/Socials.astro';
import AOS from "aos";
import "aos/dist/aos.css";
---

<Layout title="Portfolio PC">
  <Header/>

  <main>
    <div class="terminal" data-aos="fade-up" data-aos-duration="1200">
      <div class="terminal-header">
        <span class="terminal-button"></span>
        <span class="terminal-button"></span>
        <span class="terminal-button"></span>
      </div>

      <div class="terminal-content">
        <div class="text" data-aos="zoom-in" data-aos-delay="300">
          <h1 class="title">
            <span class="typing">
              Hey, I'm Pablo Climent <Badge>I'm open to work!</Badge>
            </span>
          </h1>

          <h2 class="subtitle">
            <span class="typing-subtitle">
              Currently studying Cybersecurity. Specialized in Web Development.
            </span>
          </h2>
        </div>

        <div class="photo-container" data-aos="fade-left" data-aos-delay="400">
          <img src="./src/assets/foto.png" alt="Pablo" class="photo"/>
        </div>
      </div>
    </div>
  </main>

  <section data-aos="fade-up" data-aos-duration="1300">
    <Socials />
  </section>

  <section data-aos="fade-up" data-aos-duration="1300">
    <Tecnologias />
  </section>

  <section data-aos="fade-up" data-aos-duration="1300">
    <Trabajos />
  </section>
</Layout>

<style>

/* ----- MAIN WRAPPER ----- */
main {
  margin: 60px auto;
  padding: 0 20px; /* margen lateral seguro */
  max-width: 1400px;
  width: 100%;
  box-sizing: border-box;
}

/* ----- TERMINAL BOX ----- */
.terminal {
  background-color: var(--bg-dark);
  border: 2px solid var(--primary-color);
  border-radius: 8px;
  box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
  width: 100%;
  overflow: hidden;
  transition: all 0.3s ease;
}

/* ----- TERMINAL HEADER ----- */
.terminal-header {
  background-color: var(--bg-header);
  padding: 12px;
  display: flex;
  gap: 8px;
  border-bottom: 1px solid var(--primary-color);
}

.terminal-button {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: var(--primary-color);
}

/* ----- TERMINAL CONTENT ----- */
.terminal-content {
  padding: 40px;
  display: flex;
  align-items: center;
  gap: 3rem;
  flex-wrap: wrap;
  flex-direction: column;
  width: 100%;
  box-sizing: border-box;
}

/* ----- TEXT ----- */
.text {
  flex: 1;
  min-width: 280px;
  text-align: left;
}

/* ----- PHOTO ----- */
.photo-container {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 280px;
}

.photo {
  width: 280px;
  height: 280px;
  border-radius: 10px;
  border: 3px solid var(--primary-color);
  object-fit: cover;
  box-shadow: 0 0 15px rgba(0, 255, 0, 0.4);
}

/* ----- TITLES ----- */
.title {
  font-size: 3rem;
  display: inline-flex;
  align-items: center;
  gap: 1rem;
  font-weight: 700;
  margin: 2rem 0 1rem 0;
  color: var(--text-primary);
  font-family: 'Courier New', monospace;
}

.subtitle {
  font-size: 1.5rem;
  font-weight: 500;
  color: var(--text-secondary);
  margin: 1rem 0;
  font-family: 'Courier New', monospace;
}

/* ----- ANIMATIONS ----- */
.typing {
  display: inline-block;
  animation: typing 3s steps(40, end) forwards,
             disappear 0.5s forwards 3s;
  overflow: hidden;
  white-space: nowrap;
  border-right: 3px solid var(--primary-color);
  padding-right: 5px;
}

@keyframes disappear {
  to { border-right: none; }
}

.typing-subtitle {
  display: block;
  animation: typingSubtitle 4s steps(60, end) 3s forwards,
             disappear 0.5s forwards 7s;
  overflow: hidden;
  white-space: nowrap;
  opacity: 0;
  border-right: 3px solid var(--primary-color);
  padding-right: 5px;
}

@keyframes typing {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes typingSubtitle {
  from { width: 0; opacity: 1; }
  to { width: 100%; opacity: 1; }
}

/* ----- ⭐ RESPONSIVE FIX TOTAL ⭐ ----- */
@media (max-width: 768px) {
  main {
    margin: 20px auto;
    padding: 0 12px; /* más seguro aún */
  }

  .terminal-content {
    flex-direction: column;
    gap: 1.5rem;
    padding: 20px;
  }

  .text {
    text-align: center;
    width: 100%;
  }

  .subtitle {
    font-size: 1rem;
    line-height: 1.4rem;
  }

  .title {
    display: block;
    text-align: center;
    white-space: normal;
    width: 100%;
    font-size: 1.8rem;
    line-height: 2.2rem;
  }

/* TEXTO ANIMADO (typing) */
.typing {
  display: inline-block;
  white-space: nowrap;     /* ✔ typing funciona */
  max-width: 100%;         /* ✔ no se sale en móvil */
  overflow: hidden;
}

  /* --- FOTO -- */
  .photo {
    max-width: 180px;
    width: 70%;
    height: auto;
  }
}
</style>
