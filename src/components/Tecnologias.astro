---
const categories = [
  {
    title: "FRONT-END & MOBILE",
    icon: "üíª",
    techs: [
      { name: "React / Angular", desc: "Complex UI Architect" },
      { name: "Kotlin", desc: "Native Mobile Development" },
      { name: "HTML5 & CSS3", desc: "Semantic & Secure Styling" }
    ]
  },
  {
    title: "SERVER-SIDE & ARCHITECTURE",
    icon: "‚öôÔ∏è",
    techs: [
      { name: "Java / Spring Security", desc: "Secure Backend Auth" },
      { name: "Python", desc: "Automation & Scripting" },
      { name: "NodeJS / PHP", desc: "API Design & Legacy Support" }
    ]
  },
  {
    title: "INFRASTRUCTURE & DEVSECOPS",
    icon: "üõ°Ô∏è",
    techs: [
      { name: "Docker", desc: "Container Hardening" },
      { name: "Linux OS", desc: "Server Administration" },
      { name: "Cloud (AWS/Azure)", desc: "Safe Cloud Deployment" }
    ]
  },
  {
    title: "AUDIT & PENTESTING",
    icon: "üö®",
    techs: [
      { name: "Burp Suite / Metasploit", desc: "Vulnerability Research" },
      { name: "Wireshark / Nmap", desc: "Network Traffic Analysis" },
      { name: "OWASP", desc: "Standard Security Compliance" }
    ]
  }
];

const learningTechs = ["Python", "Flutter", "Dart", "Vue.js", "Rust"];
---

<section id="tech-section">
  <div class="section-header">
    <h2 class="glitch-text">SYSTEM_KNOWLEDGE_SCAN</h2>
    <div class="scan-line"></div>
  </div>

  <div class="tech-grid">
    {categories.map((cat) => (
      <div class="tech-card" data-aos="fade-up">
        <div class="card-radar"></div>
        <div class="card-content">
          <div class="card-header">
            <span class="icon">{cat.icon}</span>
            <h3>{cat.title}</h3>
          </div>
          <ul class="tech-list">
            {cat.techs.map(tech => (
              <li>
                <div class="tech-info">
                  <span class="tech-name">
                    <span class="status-dot"></span> {tech.name}
                  </span>
                  <span class="tech-desc">{tech.desc}</span>
                </div>
              </li>
            ))}
          </ul>
        </div>
        <div class="card-footer">
          <span class="scanning-text">DATA_TYPE: ENCRYPTED_SKILL</span>
          <span class="status-ok">STATUS: SECURE</span>
        </div>
      </div>
    ))}
  </div>

  <div class="learning-section" data-aos="fade-up">
    <div class="learning-header">
      <div class="loader-container">
        <div class="loader-bar"></div>
      </div>
      <h3><span class="pulse-icon"></span> INCOMING_LEARNING_DATA (ACTIVE_RESEARCH)</h3>
    </div>
    <div class="learning-content">
      <div class="tech-ticker">
        {learningTechs.map((tech) => (
          <div class="learning-item">
            <span class="code-bracket">[</span>
            <span class="tech-name-learning">{tech}</span>
            <span class="code-bracket">]</span>
          </div>
        ))}
      </div>
    </div>
    <div class="learning-footer">
      <span>BUFFERING: 75% COMPLETE</span>
      <span>SOURCE: SELF_TAUGHT_LEARNING</span>
    </div>
  </div>
</section>

<style>
  #tech-section {
    padding: 80px 20px;
    max-width: 1200px;
    margin: 0 auto;
    font-family: 'Courier New', monospace;
    transition: all 0.3s ease;
  }

  /* ----- HEADER & ANIMACI√ìN SCAN ----- */
  .section-header { 
    text-align: center; 
    margin-bottom: 60px; 
    position: relative; 
  }
  
  .glitch-text { 
    font-size: 2.5rem; 
    font-weight: bold; 
    letter-spacing: 7px; 
    color: var(--text-primary);
    text-shadow: 0 0 10px var(--primary-color);
  }

  .scan-line { 
    width: 100%; 
    height: 2px; 
    background: linear-gradient(90deg, transparent, var(--primary-color), transparent); 
    margin-top: 15px; 
    animation: scanMove 3s infinite linear; 
  }

  @keyframes scanMove { 
    0% { transform: scaleX(0); opacity: 0; } 
    50% { transform: scaleX(1); opacity: 1; } 
    100% { transform: scaleX(0); opacity: 0; } 
  }

  /* ----- GRID PRINCIPAL (2x2 en PC) ----- */
  .tech-grid { 
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    gap: 30px; 
    margin-bottom: 40px; 
  }

  .tech-card {
    background: var(--bg-dark-light, rgba(12, 12, 26, 0.9));
    border: 1px solid var(--primary-color);
    padding: 30px;
    position: relative;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  /* Ajuste visual para Modo Claro */
  :global(html.light-mode) .tech-card {
    background: var(--bg-light-card, #ffffff);
    box-shadow: 4px 4px 0px var(--primary-color);
  }

  .tech-card:hover { 
    transform: translateY(-5px) scale(1.01); 
    box-shadow: 0 0 20px var(--primary-color); 
  }

  /* ----- EFECTO RADAR ----- */
  .card-radar {
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(from 0deg, var(--primary-color) 0deg, transparent 60deg);
    opacity: 0.05;
    animation: radarRotate 6s infinite linear;
    pointer-events: none;
  }

  @keyframes radarRotate { to { transform: rotate(360deg); } }

  /* ----- CONTENIDO DE LAS CARDS ----- */
  .card-header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
    border-bottom: 1px solid var(--primary-color);
    padding-bottom: 15px;
  }

  .card-header h3 { 
    font-size: 1.3rem; 
    color: var(--text-primary); 
    margin: 0; 
  }

  .tech-list { list-style: none; padding: 0; }
  .tech-list li { margin: 18px 0; }

  .tech-info { display: flex; flex-direction: column; gap: 4px; }
  
  .tech-name { 
    font-size: 1.1rem; 
    font-weight: bold; 
    color: var(--text-primary); 
    display: flex; 
    align-items: center; 
    gap: 10px; 
  }

  .tech-desc { 
    font-size: 0.85rem; 
    color: var(--text-secondary); 
    opacity: 0.7; 
    padding-left: 18px; 
  }

  .status-dot { 
    width: 8px; 
    height: 8px; 
    background: var(--primary-color); 
    border-radius: 50%; 
    box-shadow: 0 0 8px var(--primary-color); 
  }

  .card-footer {
    margin-top: 25px;
    font-size: 0.7rem;
    display: flex;
    justify-content: space-between;
    border-top: 1px dotted var(--primary-color);
    padding-top: 15px;
    color: var(--text-secondary);
  }

  .status-ok { font-weight: bold; animation: blink 1.5s infinite; }
  @keyframes blink { 50% { opacity: 0.3; } }

  /* ----- SECCI√ìN HORIZONTAL (LEARNING) ----- */
  .learning-section {
    background: var(--bg-dark-light);
    border: 1px solid var(--primary-color);
    padding: 30px;
    position: relative;
    border-radius: 4px;
  }

  :global(html.light-mode) .learning-section {
    background: var(--bg-light-card);
  }

  .learning-header h3 {
    font-size: 1.1rem;
    color: var(--text-primary);
    margin: 15px 0;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .pulse-icon {
    width: 10px; height: 10px;
    background: var(--primary-color);
    border-radius: 50%;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0% { box-shadow: 0 0 0 0 var(--primary-color); opacity: 1; }
    100% { box-shadow: 0 0 0 10px transparent; opacity: 0; }
  }

  /* ----- FIX BARRA DE CARGA ----- */
  .loader-container { 
    width: 100%; 
    height: 6px; 
    background: rgba(128, 128, 128, 0.1); 
    position: relative;
    overflow: hidden; /* Evita que la barra se salga */
    border-radius: 10px;
  }

  .loader-bar { 
    width: 100%; 
    height: 100%; 
    background: var(--primary-color); 
    position: absolute;
    left: 0;
    top: 0;
    transform-origin: left;
    animation: loading-fixed 10s cubic-bezier(0.4, 0, 0.2, 1) infinite; 
  }

  @keyframes loading-fixed {
    0% { transform: scaleX(0); opacity: 0.3; }
    50% { transform: scaleX(0.75); opacity: 1; }
    100% { transform: scaleX(0); opacity: 0.3; }
  }

  .tech-ticker { 
    display: flex; 
    flex-wrap: wrap; 
    justify-content: center; 
    gap: 20px; 
    padding: 20px 0; 
  }

  .learning-item { 
    font-size: 1.2rem; 
    font-weight: bold; 
    color: var(--text-primary); 
  }

  .code-bracket { color: var(--text-secondary); }

  .learning-footer {
    margin-top: 20px;
    font-size: 0.7rem;
    display: flex;
    justify-content: space-between;
    color: var(--text-secondary);
    border-top: 1px solid rgba(128, 128, 128, 0.2);
    padding-top: 10px;
  }

  /* ----- RESPONSIVE ----- */
  @media (max-width: 900px) {
    .tech-grid { grid-template-columns: 1fr; }
    .glitch-text { font-size: 1.6rem; letter-spacing: 3px; }
    .tech-card { padding: 20px; }
    .learning-item { font-size: 1rem; }
  }
</style>